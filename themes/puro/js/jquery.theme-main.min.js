/**
 * Main theme Javascript.
 */
jQuery(document).ready(function(i){
// Substitute any retina images.
var t;1<(window.devicePixelRatio?window.devicePixelRatio:1)&&i("img[data-retina-image]").each(function(){var o=i(this);o.attr("src",o.data("retina-image")),
// If the width attribute isn't set, then lets scale to 50%.
void 0===o.attr("width")&&o.load(function(){var t=[o.width(),o.height()];o.width(t[0]/2),o.height(t[1]/2)})}),
// Setup FitVids for entry content, panels and WooCommerce. Ignore Tableau.
void 0!==i.fn.fitVids&&i(".entry-content, .entry-content .panel, .woocommerce #main").fitVids({ignore:".tableauViz"}),
// This this is a touch device. We detect this through ontouchstart, msMaxTouchPoints and MaxTouchPoints.
("ontouchstart"in document.documentElement||window.navigator.msMaxTouchPoints||window.navigator.MaxTouchPoints)&&i("body").removeClass("no-touch"),i("body").hasClass("no-touch")||(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&i("body").css("cursor","pointer"),i(".site-navigation").find(".menu-item-has-children > a").each(function(){i(this).click(function(t){var o=i(this);t.stopPropagation(),o.parent().addClass("touch-drop"),o.hasClass("hover")?o.unbind("click"):(o.addClass("hover"),t.preventDefault()),i(".site-navigation > .menu-item-has-children:not(.touch-drop) > a").click(function(){o.removeClass("hover").parent().removeClass("touch-drop")}),i(document).click(function(){o.removeClass("hover").parent().removeClass("touch-drop")})})}))});